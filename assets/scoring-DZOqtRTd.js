function d(t=""){const e=(t||"").toLowerCase(),o=/formal|process|compliance/.test(e)?4:/informal|open|transparent/.test(e)?7:6,n=/fast-paced|hyper|agile|scrappy|move fast/.test(e)?8:/calm|thoughtful/.test(e)?5:7,a=/direct|blunt|radical candor/.test(e)?7:(/kind|supportive|nurturing/.test(e),6),c=/cross-functional|collaborative|partner/.test(e)?7:/independent|autonomous/.test(e)?5:6;return{comm:o,pace:n,feedback:a,collab:c}}function h(t,e){const o=(t==null?void 0:t.work_style)||{comm:6,pace:6,feedback:6,collab:6},n=e||{comm:6,pace:6,feedback:6,collab:6},a=["comm","pace","feedback","collab"];let c=0;return a.forEach(r=>{const s=10-Math.abs((o[r]||6)-(n[r]||6));c+=s}),Math.round(c/(a.length*10)*100)}function m(t="",e="",o=[]){const n=(t+" "+e).toLowerCase();let a=0;o.forEach(r=>{n.includes(String(r).toLowerCase())&&a++});const c=o.length?a/o.length:.5;return Math.round(100*Math.min(1,.6+c*.4))}function f(t=70){const e=Math.round(t/100*10);return Math.max(1,Math.min(10,e))}function g(t,e){const o=[t.role||"",t.notes||""].join(" "),n=d(o),a=m(t.role||"",o,(e==null?void 0:e.skills)||[]),c=h(e,n),r=65+((t==null?void 0:t.notes)||"").toLowerCase().includes("series")?5:0,s=60,l=n.pace>=7?70:60,i=Math.round(a*.35+c*.25+r*.2+s*.15+l*.05),u=f(c);return{base:a,culture:c,timing:r,alumni:s,workstyle:l,total:i,energy:u,cultureDims:n}}function p(t,e=[]){return e&&e.length?{label:"Brutal Reality",why:["Structural barriers",...e]}:t.total>=80?{label:"Realistic Shot",why:["Strong fit score",`Energy ${t.energy}/10`]}:t.total>=65?{label:"Long Shot",why:["Moderate fit","May need referral"]}:{label:"Brutal Reality",why:["Low fit"]}}function b(t){const e=(t.role||"").toLowerCase(),o=(t.notes||"").toLowerCase(),n=[];return/engineer|developer|tpm|devrel/.test(e)&&n.push("Deep engineering prereq"),/finra|sec|clinical|md|rn/.test(o)&&n.push("Regulated credential"),/talent bench|pool|general application/.test(o)&&n.push("Talent bench"),t.posted_at&&new Date(t.posted_at).toString()!=="Invalid Date"&&Date.now()-new Date(t.posted_at).getTime()>90*24*3600*1e3&&n.push("Stale >90d"),n}export{h as compatibilityScore,d as computeCultureDims,f as computeEnergy,g as computeScores,b as detectBarriers,m as fuzzySkillMatch,p as honestyLabel};
